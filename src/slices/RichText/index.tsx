import type { Content } from "@prismicio/client";
import { PrismicNextLink } from "@prismicio/next";
import {
  PrismicRichText,
  SliceComponentProps,
  JSXMapSerializer,
} from "@prismicio/react";

const components: JSXMapSerializer = {
  hyperlink: ({ node, children }) => {
    return <PrismicNextLink field={node.data}>{children}</PrismicNextLink>;
  },
  label: ({ node, children }) => {
    if (node.data.label === "codespan") {
      return (
        <code>
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-icon-tech h-icon-tech"
          >
            <path
              d="M1.25 7.58331C1.25 5.36646 1.25 4.25802 1.68143 3.41129C2.06093 2.66648 2.66648 2.06093 3.41129 1.68143C4.25802 1.25 5.36646 1.25 7.58331 1.25H12.4167C14.6336 1.25 15.742 1.25 16.5887 1.68143C17.3335 2.06093 17.9391 2.66648 18.3186 3.41129C18.75 4.25802 18.75 5.36646 18.75 7.58331V12.4167C18.75 14.6336 18.75 15.742 18.3186 16.5887C17.9391 17.3335 17.3335 17.9391 16.5887 18.3186C15.742 18.75 14.6336 18.75 12.4167 18.75H7.58331C5.36646 18.75 4.25802 18.75 3.41129 18.3186C2.66648 17.9391 2.06093 17.3335 1.68143 16.5887C1.25 15.742 1.25 14.6336 1.25 12.4167V7.58331Z"
              fill="#470137"
            />
            <path
              d="M10.4041 6.39601L8.2205 10.0925L10.5566 14.0177C10.6052 14.1067 10.5566 14.1264 10.4863 14.1264H8.81925C8.70181 14.1264 8.61963 14.1221 8.57269 14.0418C8.416 13.7288 8.2595 13.4177 8.10306 13.1086C7.94644 12.7997 7.78013 12.4846 7.60419 12.1634C7.42806 11.8425 7.25394 11.5174 7.08175 11.1882C6.92513 11.5093 6.75094 11.8304 6.58281 12.1514C6.41444 12.4726 6.24813 12.7916 6.08388 13.1086C5.91954 13.4258 5.75127 13.7409 5.57909 14.0538C5.54773 14.1261 5.49286 14.1335 5.41471 14.1335H3.80641C3.74322 14.1335 3.73559 14.086 3.7712 14.0298L6.03692 10.2129L3.82988 6.38395C3.78979 6.32932 3.82429 6.27113 3.88859 6.27557H5.54384C5.61552 6.27157 5.67886 6.29857 5.71994 6.35988C5.86083 6.68101 6.01735 7.00213 6.18952 7.32313C6.36156 7.64426 6.53575 7.96138 6.71194 8.27432C6.88806 8.58738 7.06219 8.90445 7.21088 9.22557C7.36731 8.89651 7.52581 8.57545 7.68631 8.26232C7.84669 7.94926 8.011 7.6342 8.17938 7.31713C8.34763 7.00013 8.51 6.68507 8.66656 6.37195C8.68738 6.30326 8.73713 6.26845 8.80744 6.27557H10.3453C10.4041 6.27557 10.4283 6.35576 10.4041 6.39601Z"
              fill="#FF61F6"
            />
            <path
              d="M13.7731 14.2828C12.7378 14.299 11.6533 13.8727 11.1082 12.9282C10.8421 12.4748 10.709 11.9069 10.7091 11.2245C10.7047 10.6719 10.8423 10.1278 11.1082 9.64719C11.7943 8.42081 13.1764 7.96131 14.4892 8.08194V5.70991C14.4892 5.65384 14.5127 5.62563 14.5597 5.62563H16.0388C16.0793 5.61971 16.115 5.65639 16.1093 5.69786V12.8139C16.1093 13.1074 16.1384 13.4 16.1563 13.6928C16.1592 13.7428 16.1302 13.7923 16.0858 13.8132C15.355 14.1259 14.5642 14.2792 13.7731 14.2828ZM14.4892 12.7898V9.50269C13.417 9.20481 12.376 10.0215 12.3761 11.1522C12.3507 12.3213 13.3584 13.129 14.4892 12.7898Z"
              fill="#FF61F6"
            />
          </svg>
          {children}
        </code>
      );
    }
  },
};

/**
 * Props for `RichText`.
 */
type RichTextProps = SliceComponentProps<Content.RichTextSlice>;

/**
 * Component for "RichText" Slices.
 */
const RichText = ({ slice }: RichTextProps): JSX.Element => {
  return (
    <section>
      <PrismicRichText field={slice.primary.content} components={components} />
    </section>
  );
};

export default RichText;
